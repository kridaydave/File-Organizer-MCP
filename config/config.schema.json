{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://github.com/kridaydave/File-Organizer-MCP/config.schema.json",
    "title": "File Organizer MCP Configuration",
    "description": "Configuration schema for File Organizer MCP v3.0",
    "type": "object",
    "properties": {
        "version": {
            "type": "string",
            "description": "Configuration version",
            "default": "3.0.0"
        },
        "security": {
            "type": "object",
            "description": "Security settings",
            "properties": {
                "mode": {
                    "type": "string",
                    "enum": [
                        "strict",
                        "sandboxed",
                        "unrestricted"
                    ],
                    "default": "strict",
                    "description": "Security mode: strict (CWD only), sandboxed (allow-list), unrestricted (full access)"
                },
                "allowed_directories": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "default": [],
                    "description": "Directories allowed in sandboxed mode. Supports ~ and env vars."
                },
                "enable_symlinks": {
                    "type": "boolean",
                    "default": false,
                    "description": "Allow following symlinks in unrestricted mode"
                },
                "blacklist_system_paths": {
                    "type": "boolean",
                    "default": true,
                    "description": "Block access to critical system directories"
                }
            },
            "additionalProperties": false
        },
        "limits": {
            "type": "object",
            "description": "Resource limits",
            "properties": {
                "max_file_size": {
                    "type": "integer",
                    "minimum": 1048576,
                    "maximum": 1073741824,
                    "default": 104857600,
                    "description": "Maximum file size in bytes (default: 100MB)"
                },
                "max_files_per_operation": {
                    "type": "integer",
                    "minimum": 10,
                    "maximum": 100000,
                    "default": 10000,
                    "description": "Maximum files per operation"
                },
                "max_directory_depth": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 50,
                    "default": 10,
                    "description": "Maximum directory depth for recursive scans"
                }
            },
            "additionalProperties": false
        },
        "behavior": {
            "type": "object",
            "description": "Behavior settings",
            "properties": {
                "dry_run_default": {
                    "type": "boolean",
                    "default": false,
                    "description": "Default to dry-run mode for organize operations"
                },
                "skip_hidden_files": {
                    "type": "boolean",
                    "default": true,
                    "description": "Skip files starting with ."
                }
            },
            "additionalProperties": false
        },
        "logging": {
            "type": "object",
            "description": "Logging settings",
            "properties": {
                "audit_enabled": {
                    "type": "boolean",
                    "default": false,
                    "description": "Enable audit logging (always true in unrestricted mode)"
                },
                "log_level": {
                    "type": "string",
                    "enum": [
                        "error",
                        "warn",
                        "info",
                        "debug"
                    ],
                    "default": "info",
                    "description": "Logging level"
                }
            },
            "additionalProperties": false
        }
    },
    "additionalProperties": false
}